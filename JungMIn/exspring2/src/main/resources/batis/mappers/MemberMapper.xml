<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <!-- 이 파일이 담고 있는 SQL문들 집학의 고유한 이름을 namespace 속성값으로 설정
  		일반적으로 이 SQL문들을 실행할 때 사용할 DAO인터페이스 이름을 지정 -->
<mapper namespace="com.exam.myapp.member.MemberDao">
<!-- 	resultMap을 사용하여 
	조회결과의 어떤 컬럼값을 MemberVo 객체의 어떤 속성(변수)에 담을지(저장) 설정 -->	
	<resultMap type="com.exam.myapp.member.MemberVo" id="MemberMap">
		<!-- 기본키(PK)에 해당되는 컬럼에 대해서는 result 대신 id 태그 사용
			 조인할 시에 조인결과를 알려주기 위해 반드시 필요함. -->
		<id property="memId" column="mem_id" />
		<result property="memPass" column="mem_pass" />
		<result property="memName" column="mem_name" />
		<result property="memPoint" column="mem_point" />
	</resultMap>

  
  <!-- SQL문 실행시 전달받은 데이터의 타입을 parameterType 속성에 지정 가능(생략도 가능) -->
  <insert id="insertMember" parameterType="MemberVo">
  	insert INTO member (mem_id, mem_pass, mem_name, mem_point)
	values ( #{memId}, #{memPass}, #{memName}, #{memPoint} )
  </insert>
  <!-- 파라미터(인자)로 받은 객체의 속성(변수)값들을 SQL문 내에 사용하기 위해서,
  #{속성명} 또는 ${속성명} 표현을 사용 -->
  <!-- #{속성명} : JDBC의 ? 채우기와 같은 방식으로 동작
  ${속성명} : 문자열 이어붙이기와 같은 방식으로 동작 (보안상 위험하므로 가급적 사용 자제) -->
  
  <delete id="deleteMember">
  	DELETE FROM member WHERE mem_Id = #{memId}
  </delete>
  <!-- 문자열, 정수 등 *****단일값*****을 갖는 데이터를 파라미터(인자)로 받은 경우,
  #{속성명}의 속성명에는 어떤 이름을 써도 무방.
  일반적으로 value 또는 변수명을 사용 -->
  
  <update id="updateMember" parameterType="MemberVo">
   	UPDATE MEMBER SET mem_name = #{memName}, mem_point = #{memPoint}
    WHERE mem_id = #{memId}
  </update>
  
  <select id="selectMemberList" resultType="MemberVo">
    select mem_id,mem_name, mem_point from member
  </select>

  <select id="selectMember" resultType="MemberVo">
    select mem_id, mem_name, mem_point from member
    WHERE mem_id = #{memId}
  </select>
  
  <select id="selectLogin" resultType="MemberVo">
    select mem_id, mem_name, mem_point from member
    WHERE mem_id = #{memId} and mem_pass = #{memPass}
  </select>
  
</mapper>



